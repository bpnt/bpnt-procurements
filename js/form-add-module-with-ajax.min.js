var a=$("#process-structure").children(),e=$("#modal-input-field-structure").children();function addProcessSteps(){var e=$("#process-heading").attr("data-heading"),s=$("#process-counter").attr("data-count"),t=parseInt(s),o=a.clone(!0),n=$("#process-structures").append(o);$(n).find(".counter-header").replaceWith("<h1>"+e+" "+t+"</h1>"),$(n).find(".counter-field").replaceWith('<input type="hidden" name="cid" value="'+t+'" />'),$(n).find(".counter-view-modal").replaceWith('<a class="modal-btn et-btn-tablehead bg-btn-et-green" href="#" onclick="viewModalProcess('+t+')">Add / Edit Modules</a>'),$(n).find(".counter-remove-segment").replaceWith('<a class="et-btn-tablehead bg-btn-et-red remove-segment" href="#">Remove Segment</a>'),t++,$("#process-counter").attr("data-count",t)}function makeCall(e,a){$.ajax({url:e,type:"GET",dataType:"json",success:function(e){a(e)}})}function viewModalProcess(e){$("#modal-input-field-structures").empty(),$('input[name="fid"]').val(e),$(".modal-container").css("display","block"),$(".modal").css("display","block");var a=$("#process-url").attr("data-url")+$("#process-reference").attr("data-reference")+"/"+e;console.log(a),makeCall(a,function(e){for(var a=0;a<e.length;a++)console.log(e[a].moduleName),$("#modal-input-field-structures").append('<div class="form-wrapper" style="margin-top:20px;"><div class="row"><div class="col-md-10"><div class="form-row"><div class="col-full"><select name="modules"><option value="'+e[a]._id+'">'+e[a].moduleName+'</option></select></div></div></div><div class="col-md-2"><div class="form-row"><div class="col-full"><span><a class="remove-segment" href="#" style="margin-top:15px;"><i class="fas fa-times"></i></a></span></div></div></div></div></div>')})}function hideModalProcess(){$(".modal-container").css("display","none"),$(".modal").css("display","none")}function addInput(){var a=e.clone(!0);$("#modal-input-field-structures").append(a)}$(document).on("click",".remove-segment",function(){$(this).closest(".form-wrapper").remove()});